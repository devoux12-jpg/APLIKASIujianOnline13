<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Ujian Sekolah Online</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .main-card {
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease-in-out;
        }
        .option-card {
            transition: all 0.2s ease-in-out;
            transform-style: preserve-3d;
        }
        .option-letter {
             transition: all 0.2s ease-in-out;
        }
        input[type="radio"]:checked + .option-card {
            border-color: #4f46e5; /* indigo-600 */
            background-color: #e0e7ff; /* indigo-100 */
            transform: translateY(-2px);
            box-shadow: 0 4px 15px -2px rgba(79, 70, 229, 0.2);
        }
        input[type="radio"]:checked + .option-card .option-letter {
            background-color: #4f46e5;
            border-color: #4338ca;
            color: white;
        }
        .checkmark {
             display: none;
        }
        input[type="radio"]:checked + .option-card .checkmark {
            display: block;
        }

        @keyframes pulse-red {
            50% {
                color: #ef4444; /* red-500 */
                text-shadow: 0 0 10px #ef4444;
            }
        }
        .timer-warning {
            animation: pulse-red 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
        }
        
        @keyframes fade-in-delay-1 { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fade-in-delay-2 { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fade-in-delay-3 { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .animate-fade-in-1 { animation: fade-in-delay-1 0.5s ease-out 0.2s forwards; opacity: 0; }
        .animate-fade-in-2 { animation: fade-in-delay-2 0.5s ease-out 0.4s forwards; opacity: 0; }
        .animate-fade-in-3 { animation: fade-in-delay-3 0.5s ease-out 0.6s forwards; opacity: 0; }
        
        .question-transition {
            transition: opacity 0.3s ease-out, transform 0.3s ease-out;
        }
        .question-exit {
            opacity: 0;
            transform: translateX(-20px);
        }
        .question-enter {
            opacity: 1;
            transform: translateX(0);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-cyan-100 via-purple-200 to-blue-200 min-h-screen p-4">

    <div id="app-container" class="w-full max-w-4xl mx-auto my-8">
        
        <!-- Start Screen -->
        <div id="start-screen" class="main-card p-8 rounded-2xl shadow-2xl text-center animate-fade-in">
            <div class="flex justify-center mb-4">
                 <svg class="w-20 h-20 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418" />
                </svg>
            </div>
            <h1 class="text-4xl font-extrabold text-gray-800 mb-2">Ujian Kompetensi Siswa</h1>
            <p class="text-gray-600 mb-8 text-lg">Selamat datang! Silakan isi data diri Anda untuk memulai.</p>
            <div class="bg-white/60 border border-gray-200 rounded-lg p-6 mb-8 text-left grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                 <div class="md:col-span-2">
                    <h3 class="font-bold text-xl text-gray-700 mb-4 text-center">Data Diri Peserta</h3>
                     <div class="space-y-4">
                        <div>
                            <label for="student-name" class="block text-sm font-bold text-gray-700 mb-1">Nama Lengkap</label>
                            <input type="text" id="student-name" class="mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Masukkan nama Anda">
                            <p id="name-error" class="text-red-500 text-sm mt-1 hidden">Nama tidak boleh kosong.</p>
                        </div>
                        <div>
                            <label for="student-class" class="block text-sm font-bold text-gray-700 mb-1">Kelas</label>
                            <input type="text" id="student-class" class="mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Contoh: XII IPA 1">
                        </div>
                    </div>
                    <button id="start-btn" class="mt-6 w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition duration-300 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                        Mulai Ujian
                    </button>
                </div>
                 <div class="md:col-span-2 text-center text-sm text-gray-500 pt-4 border-t mt-4">
                    <p class="font-semibold text-base mb-2 text-gray-700">Informasi Ujian</p>
                    <span><strong>100 Soal</strong> | <strong>4 Mata Pelajaran</strong> | <strong>60 Menit</strong></span>
                </div>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="main-card p-6 sm:p-8 rounded-2xl shadow-2xl">
                <div class="mb-4">
                    <div class="bg-gray-200/70 rounded-full h-3">
                        <div id="progress-bar" class="bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full transition-all duration-300"></div>
                    </div>
                </div>
                <div class="flex justify-between items-center border-b pb-4 mb-6">
                    <div>
                        <span id="question-subject" class="text-sm font-bold text-indigo-700 bg-indigo-100 py-1 px-4 rounded-full">Subjek</span>
                        <h2 class="text-xl font-bold text-gray-800 mt-2">Soal <span id="question-number">1</span> / 100</h2>
                    </div>
                    <div class="text-center bg-white/60 px-4 py-2 rounded-lg shadow-inner">
                        <div class="text-xs font-bold text-gray-500 tracking-wider">WAKTU</div>
                        <div id="timer" class="text-3xl font-bold text-gray-800">60:00</div>
                    </div>
                </div>

                <div class="question-transition">
                    <p id="question-text" class="text-gray-800 text-xl font-medium mb-6 min-h-[60px]"></p>
                    <div id="options-container" class="space-y-4">
                        <!-- Options will be injected here -->
                    </div>
                </div>

                <div class="flex justify-between mt-8 pt-6 border-t">
                    <button id="prev-btn" class="bg-gray-200 text-gray-800 font-bold py-3 px-8 rounded-lg hover:bg-gray-300 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                        Kembali
                    </button>
                    <button id="next-btn" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition duration-300">
                        Lanjut
                    </button>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden main-card p-8 rounded-2xl shadow-2xl text-center">
            <h1 class="text-4xl font-extrabold text-gray-800 mb-2">Ujian Selesai!</h1>
            <p class="text-gray-600 mb-8 text-lg">Berikut adalah rekapitulasi hasil ujian Anda.</p>

            <div class="mb-8 flex justify-center animate-fade-in">
                <div class="w-52 h-52 rounded-full bg-gradient-to-br from-cyan-400 to-indigo-600 flex items-center justify-center shadow-2xl">
                    <div class="w-44 h-44 rounded-full bg-white flex flex-col items-center justify-center">
                        <p class="text-gray-500 text-lg font-medium">Nilai Akhir</p>
                        <p id="final-score" class="text-6xl font-extrabold text-indigo-600">0</p>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-5 text-left mb-8">
                <div class="bg-green-50 p-5 rounded-xl border-2 border-green-200 flex items-center animate-fade-in-1">
                    <div class="bg-green-100 p-3 rounded-full mr-4"><svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>
                    <div><p class="font-bold text-green-800 text-lg">Benar</p><p id="correct-answers" class="text-3xl font-bold text-green-600">0</p></div>
                </div>
                <div class="bg-red-50 p-5 rounded-xl border-2 border-red-200 flex items-center animate-fade-in-2">
                    <div class="bg-red-100 p-3 rounded-full mr-4"><svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div>
                    <div><p class="font-bold text-red-800 text-lg">Salah</p><p id="wrong-answers" class="text-3xl font-bold text-red-600">0</p></div>
                </div>
                 <div class="bg-yellow-50 p-5 rounded-xl border-2 border-yellow-300 flex items-center animate-fade-in-3">
                    <div class="bg-yellow-100 p-3 rounded-full mr-4"><svg class="w-8 h-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div>
                    <div><p class="font-bold text-yellow-800 text-lg">Kosong</p><p id="unanswered" class="text-3xl font-bold text-yellow-600">0</p></div>
                </div>
            </div>
            
            <!-- Leaderboard Section -->
            <div id="leaderboard-section" class="mt-8 text-left animate-fade-in-3">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">Papan Peringkat</h2>
                <div class="bg-white/60 rounded-lg p-2 max-h-60 overflow-y-auto">
                    <table class="w-full">
                        <thead class="sticky top-0 bg-white/80 backdrop-blur-sm">
                            <tr class="border-b">
                                <th class="p-3 text-sm font-semibold text-gray-600 text-center">Peringkat</th>
                                <th class="p-3 text-sm font-semibold text-gray-600 text-left">Nama</th>
                                <th class="p-3 text-sm font-semibold text-gray-600 text-center">Skor</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboard-body">
                            <!-- Ranking rows will be injected here -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="mt-8 flex flex-col sm:flex-row justify-center gap-4">
                 <button id="home-btn" class="bg-gray-200 text-gray-800 font-bold py-3 px-10 rounded-lg hover:bg-gray-300 transition duration-300 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                    Kembali ke Beranda
                </button>
                <button id="restart-btn" class="bg-indigo-600 text-white font-bold py-3 px-10 rounded-lg hover:bg-indigo-700 transition duration-300 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                    Ulangi Ujian
                </button>
            </div>
        </div>
    </div>

    <script>
    // --- DATABASE SOAL ---
    const questions = [
        // Bahasa Indonesia (25 Soal)
        { subject: 'Bahasa Indonesia', question: 'Sinonim dari kata "pandai" adalah...', options: ['Bodoh', 'Cerdas', 'Malas', 'Rajin'], answer: 'Cerdas' },
        { subject: 'Bahasa Indonesia', question: 'Antonim dari kata "terang" adalah...', options: ['Cahaya', 'Siang', 'Gelap', 'Putih'], answer: 'Gelap' },
        { subject: 'Bahasa Indonesia', question: 'Kalimat yang menggunakan kata depan yang tepat adalah...', options: ['Saya pergi sekolah.', 'Buku itu ada diatas meja.', 'Dia berasal dari Surabaya.', 'Adik bermain bola dihalaman.'], answer: 'Dia berasal dari Surabaya.' },
        { subject: 'Bahasa Indonesia', question: 'Penulisan judul yang benar adalah...', options: ['Dari Ave Maria ke Jalan Lain ke Roma', 'dari ave maria ke jalan lain ke roma', 'Dari ave maria ke jalan lain ke roma', 'Dari Ave Maria ke jalan lain ke Roma'], answer: 'Dari Ave Maria ke Jalan Lain ke Roma' },
        { subject: 'Bahasa Indonesia', question: 'Puisi lama yang setiap baitnya terdiri atas empat baris serta memiliki sampiran dan isi adalah...', options: ['Gurindam', 'Pantun', 'Seloka', 'Talibun'], answer: 'Pantun' },
        { subject: 'Bahasa Indonesia', question: 'Ide pokok yang mendasari sebuah cerita disebut...', options: ['Alur', 'Latar', 'Amanat', 'Tema'], answer: 'Tema' },
        { subject: 'Bahasa Indonesia', question: 'Penulisan kata "apotek" yang baku adalah...', options: ['Apotik', 'Apotek', 'Aphoteek', 'Aphotik'], answer: 'Apotek' },
        { subject: 'Bahasa Indonesia', question: 'Ungkapan "kambing hitam" memiliki arti...', options: ['Orang yang disalahkan', 'Hewan berwarna hitam', 'Orang yang pemberani', 'Hewan kurban'], answer: 'Orang yang disalahkan' },
        { subject: 'Bahasa Indonesia', question: 'Tanda baca yang digunakan untuk mengakhiri kalimat tanya adalah...', options: ['Titik (.)', 'Koma (,)', 'Seru (!)', 'Tanya (?)'], answer: 'Tanya (?)' },
        { subject: 'Bahasa Indonesia', question: 'Kata yang memiliki makna yang berlawanan dengan "promosi" adalah...', options: ['Kenaikan', 'Demosi', 'Mutasi', 'Rotasi'], answer: 'Demosi' },
        { subject: 'Bahasa Indonesia', question: 'Kalimat "Ani membeli buku di toko" memiliki pola...', options: ['S-P-O-K', 'S-P-K', 'S-P-O', 'K-S-P-O'], answer: 'S-P-O-K' },
        { subject: 'Bahasa Indonesia', question: 'Tokoh yang memiliki sifat jahat dalam sebuah cerita disebut...', options: ['Protagonis', 'Antagonis', 'Tritagonis', 'Figuran'], answer: 'Antagonis' },
        { subject: 'Bahasa Indonesia', question: 'Majas yang melebih-lebihkan sesuatu disebut...', options: ['Metafora', 'Personifikasi', 'Hiperbola', 'Litotes'], answer: 'Hiperbola' },
        { subject: 'Bahasa Indonesia', question: 'Singkatan dari "Perserikatan Bangsa-Bangsa" adalah...', options: ['PBB', 'PB', 'PSBB', 'PBN'], answer: 'PBB' },
        { subject: 'Bahasa Indonesia', question: 'Laporan yang disusun berdasarkan hasil pengamatan disebut...', options: ['Laporan perjalanan', 'Laporan keuangan', 'Laporan observasi', 'Laporan kegiatan'], answer: 'Laporan observasi' },
        { subject: 'Bahasa Indonesia', question: 'Kata imbuhan "me-" pada kata "melihat" memiliki arti...', options: ['Melakukan pekerjaan', 'Menjadi seperti', 'Mengenai', 'Memberi'], answer: 'Melakukan pekerjaan' },
        { subject: 'Bahasa Indonesia', question: 'Cerita yang tidak benar-benar terjadi dan bersifat khayalan disebut...', options: ['Biografi', 'Fiksi', 'Nonfiksi', 'Artikel'], answer: 'Fiksi' },
        { subject: 'Bahasa Indonesia', question: 'Penulisan tanggal surat yang benar adalah...', options: ['Bandung, 17-08-2023', 'Bandung 17 Agustus 2023', 'Bandung, 17 Agustus 2023', 'Bandung. 17 Agustus 2023'], answer: 'Bandung, 17 Agustus 2023' },
        { subject: 'Bahasa Indonesia', question: 'Peribahasa "Air susu dibalas dengan air tuba" artinya...', options: ['Kebaikan dibalas dengan kebaikan', 'Kejahatan dibalas dengan kejahatan', 'Kebaikan dibalas dengan kejahatan', 'Air yang jernih'], answer: 'Kebaikan dibalas dengan kejahatan' },
        { subject: 'Bahasa Indonesia', question: 'Orang yang ahli dalam bidang bahasa disebut...', options: ['Pustakawan', 'Sastrawan', 'Arkeolog', 'Linguis'], answer: 'Linguis' },
        { subject: 'Bahasa Indonesia', question: 'Kalimat berikut yang merupakan kalimat efektif adalah...', options: ['Para hadirin dimohon berdiri.', 'Banyak sekali ikan-ikan di sungai.', 'Dia adalah merupakan siswa teladan.', 'Kami belajar untuk ujian.'], answer: 'Kami belajar untuk ujian.' },
        { subject: 'Bahasa Indonesia', question: 'Penggunaan tanda koma (,) yang tepat terdapat pada kalimat...', options: ['Saya membeli, apel, jeruk, dan mangga.', 'Saya membeli apel, jeruk dan mangga.', 'Saya membeli apel, jeruk, dan mangga.', 'Saya membeli apel jeruk, dan mangga.'], answer: 'Saya membeli apel, jeruk, dan mangga.' },
        { subject: 'Bahasa Indonesia', question: 'Kata "otomatis" berasal dari serapan bahasa...', options: ['Belanda', 'Inggris', 'Arab', 'Yunani'], answer: 'Yunani' },
        { subject: 'Bahasa Indonesia', question: 'Struktur teks deskripsi terdiri dari...', options: ['Tesis, argumen, penegasan ulang', 'Identifikasi, deskripsi bagian, simpulan', 'Orientasi, komplikasi, resolusi', 'Abstrak, orientasi, krisis'], answer: 'Identifikasi, deskripsi bagian, simpulan' },
        { subject: 'Bahasa Indonesia', question: 'Makna kata "aspirasi" adalah...', options: ['Harapan', 'Semangat', 'Kemarahan', 'Kesedihan'], answer: 'Harapan' },
        
        // Bahasa Inggris (25 Soal)
        { subject: 'Bahasa Inggris', question: 'My mother ... a cake for my birthday.', options: ['cook', 'cooks', 'is cooking', 'are cooking'], answer: 'cooks' },
        { subject: 'Bahasa Inggris', question: 'What is the capital city of England?', options: ['Paris', 'Rome', 'London', 'Madrid'], answer: 'London' },
        { subject: 'Bahasa Inggris', question: 'I have ... apple.', options: ['a', 'an', 'the', 'some'], answer: 'an' },
        { subject: 'Bahasa Inggris', question: 'They ... to the school yesterday.', options: ['go', 'goes', 'went', 'gone'], answer: 'went' },
        { subject: 'Bahasa Inggris', question: 'The opposite of "beautiful" is...', options: ['Pretty', 'Ugly', 'Cute', 'Nice'], answer: 'Ugly' },
        { subject: 'Bahasa Inggris', question: 'A person who flies an airplane is called a ...', options: ['Doctor', 'Pilot', 'Teacher', 'Driver'], answer: 'Pilot' },
        { subject: 'Bahasa Inggris', question: 'We use our eyes to ...', options: ['Hear', 'Smell', 'See', 'Taste'], answer: 'See' },
        { subject: 'Bahasa Inggris', question: '"Big" is the antonym for ...', options: ['Large', 'Huge', 'Small', 'Great'], answer: 'Small' },
        { subject: 'Bahasa Inggris', question: 'The day after Monday is ...', options: ['Sunday', 'Wednesday', 'Friday', 'Tuesday'], answer: 'Tuesday' },
        { subject: 'Bahasa Inggris', question: 'Elephants are big, but ants are ...', options: ['big', 'small', 'tall', 'long'], answer: 'small' },
        { subject: 'Bahasa Inggris', question: 'She ... English every day.', options: ['study', 'studies', 'is studying', 'studied'], answer: 'studies' },
        { subject: 'Bahasa Inggris', question: '... you like a cup of tea?', options: ['Do', 'Are', 'Would', 'Will'], answer: 'Would' },
        { subject: 'Bahasa Inggris', question: 'The book is ... the table.', options: ['in', 'at', 'on', 'under'], answer: 'on' },
        { subject: 'Bahasa Inggris', question: 'How ... sugar do you need?', options: ['many', 'much', 'a lot of', 'some'], answer: 'much' },
        { subject: 'Bahasa Inggris', question: 'The comparative form of "good" is ...', options: ['Gooder', 'Best', 'Better', 'More good'], answer: 'Better' },
        { subject: 'Bahasa Inggris', question: 'I ... to the beach tomorrow.', options: ['go', 'am going', 'will go', 'went'], answer: 'will go' },
        { subject: 'Bahasa Inggris', question: 'A cat says "meow", a dog says "..."', options: ['oink', 'moo', 'woof', 'neigh'], answer: 'woof' },
        { subject: 'Bahasa Inggris', question: 'Which one is NOT a fruit?', options: ['Apple', 'Banana', 'Carrot', 'Orange'], answer: 'Carrot' },
        { subject: 'Bahasa Inggris', question: 'The plural form of "child" is ...', options: ['Childs', 'Childes', 'Children', 'Childrens'], answer: 'Children' },
        { subject: 'Bahasa Inggris', question: 'You ... be quiet in the library.', options: ['can', 'must', 'may', 'will'], answer: 'must' },
        { subject: 'Bahasa Inggris', question: 'This is my book, and that is ... book.', options: ['you', 'your', 'yours', 'you are'], answer: 'your' },
        { subject: 'Bahasa Inggris', question: 'What time is it? It is a ... past ten.', options: ['quarter', 'half', 'fifteen', 'thirty'], answer: 'quarter' },
        { subject: 'Bahasa Inggris', question: 'He is from Italy. He is ...', options: ['Italiano', 'Italish', 'Italian', 'Italyan'], answer: 'Italian' },
        { subject: 'Bahasa Inggris', question: 'Synonym for "happy" is ...', options: ['Sad', 'Angry', 'Joyful', 'Tired'], answer: 'Joyful' },
        { subject: 'Bahasa Inggris', question: 'Look! The students ... football in the yard.', options: ['play', 'plays', 'played', 'are playing'], answer: 'are playing' },

        // Matematika (25 Soal)
        { subject: 'Matematika', question: 'Hasil dari 15 x 4 + 10 adalah...', options: ['70', '80', '60', '90'], answer: '70' },
        { subject: 'Matematika', question: 'Sebuah persegi memiliki sisi 5 cm. Berapa luasnya?', options: ['20 cm²', '25 cm²', '30 cm²', '10 cm²'], answer: '25 cm²' },
        { subject: 'Matematika', question: 'Jika x + 5 = 12, maka nilai x adalah...', options: ['5', '6', '7', '8'], answer: '7' },
        { subject: 'Matematika', question: 'Bentuk desimal dari 3/4 adalah...', options: ['0.25', '0.50', '0.75', '0.80'], answer: '0.75' },
        { subject: 'Matematika', question: 'Rumus untuk mencari keliling lingkaran adalah...', options: ['πr²', '2πr', 'πd²', 's x s'], answer: '2πr' },
        { subject: 'Matematika', question: 'Hasil dari 100 - 5 x 10 adalah...', options: ['950', '50', '90', '40'], answer: '50' },
        { subject: 'Matematika', question: 'KPK dari 12 dan 18 adalah...', options: ['6', '24', '36', '72'], answer: '36' },
        { subject: 'Matematika', question: 'Sebuah balok memiliki panjang 10 cm, lebar 5 cm, dan tinggi 4 cm. Volumenya adalah...', options: ['19 cm³', '100 cm³', '200 cm³', '400 cm³'], answer: '200 cm³' },
        { subject: 'Matematika', question: 'Hasil dari 2/5 + 1/5 adalah...', options: ['3/10', '3/5', '2/25', '1/5'], answer: '3/5' },
        { subject: 'Matematika', question: 'Bentuk persen dari 0.5 adalah...', options: ['5%', '50%', '0.5%', '500%'], answer: '50%' },
        { subject: 'Matematika', question: 'Sudut siku-siku memiliki besar...', options: ['45°', '90°', '180°', '360°'], answer: '90°' },
        { subject: 'Matematika', question: 'Data nilai ulangan: 7, 8, 9, 7, 8, 6, 9, 7. Rata-rata nilai tersebut adalah...', options: ['7', '7.5', '8', '8.5'], answer: '7.5' },
        { subject: 'Matematika', question: 'Akar kuadrat dari 81 adalah...', options: ['7', '8', '9', '10'], answer: '9' },
        { subject: 'Matematika', question: 'Jika harga sebuah buku Rp5.000 dan mendapat diskon 20%, maka harga yang harus dibayar adalah...', options: ['Rp1.000', 'Rp3.000', 'Rp4.000', 'Rp4.500'], answer: 'Rp4.000' },
        { subject: 'Matematika', question: 'Sebuah segitiga sama sisi memiliki keliling 24 cm. Panjang sisinya adalah...', options: ['6 cm', '8 cm', '12 cm', '24 cm'], answer: '8 cm' },
        { subject: 'Matematika', question: 'Bilangan prima antara 10 dan 20 adalah...', options: ['11, 13, 15, 17, 19', '11, 13, 17, 19', '13, 15, 17, 19', '11, 13, 17'], answer: '11, 13, 17, 19' },
        { subject: 'Matematika', question: 'Hasil dari (-5) + 12 adalah...', options: ['-17', '-7', '7', '17'], answer: '7' },
        { subject: 'Matematika', question: 'Sebuah mobil melaju dengan kecepatan 60 km/jam. Jarak yang ditempuh dalam 3 jam adalah...', options: ['20 km', '63 km', '120 km', '180 km'], answer: '180 km' },
        { subject: 'Matematika', question: '1 ton sama dengan ... kg', options: ['10', '100', '1000', '10000'], answer: '1000' },
        { subject: 'Matematika', question: 'FPB dari 24 dan 36 adalah...', options: ['6', '8', '12', '24'], answer: '12' },
        { subject: 'Matematika', question: 'Bangun datar yang memiliki 4 sisi sama panjang dan 4 sudut siku-siku adalah...', options: ['Persegi panjang', 'Trapesium', 'Persegi', 'Jajar genjang'], answer: 'Persegi' },
        { subject: 'Matematika', question: '2 jam 30 menit sama dengan ... menit', options: ['90', '120', '150', '180'], answer: '150' },
        { subject: 'Matematika', question: 'Dalam sebuah kantong terdapat 5 bola merah dan 3 bola biru. Peluang terambilnya bola merah adalah...', options: ['3/8', '5/8', '3/5', '5/3'], answer: '5/8' },
        { subject: 'Matematika', question: 'Data: 5, 6, 7, 7, 8, 9. Median dari data tersebut adalah...', options: ['6', '7', '7.5', '8'], answer: '7' },
        { subject: 'Matematika', question: 'Hasil dari 3³ adalah...', options: ['9', '12', '27', '81'], answer: '27' },
        
        // Geografi (25 Soal)
        { subject: 'Geografi', question: 'Ibu kota provinsi Jawa Barat adalah...', options: ['Jakarta', 'Semarang', 'Bandung', 'Yogyakarta'], answer: 'Bandung' },
        { subject: 'Geografi', question: 'Gunung tertinggi di Indonesia adalah...', options: ['Gunung Semeru', 'Gunung Rinjani', 'Puncak Jaya', 'Gunung Kerinci'], answer: 'Puncak Jaya' },
        { subject: 'Geografi', question: 'Garis khayal yang membagi bumi menjadi belahan utara dan selatan disebut...', options: ['Garis Bujur', 'Garis Lintang', 'Garis Ekuator', 'Garis Meridian'], answer: 'Garis Ekuator' },
        { subject: 'Geografi', question: 'Benua terluas di dunia adalah...', options: ['Afrika', 'Amerika', 'Eropa', 'Asia'], answer: 'Asia' },
        { subject: 'Geografi', question: 'Selat yang memisahkan Pulau Jawa dan Pulau Sumatra adalah...', options: ['Selat Malaka', 'Selat Sunda', 'Selat Bali', 'Selat Makassar'], answer: 'Selat Sunda' },
        { subject: 'Geografi', question: 'Ibu kota negara Thailand adalah...', options: ['Kuala Lumpur', 'Hanoi', 'Manila', 'Bangkok'], answer: 'Bangkok' },
        { subject: 'Geografi', question: 'Letak astronomis Indonesia menyebabkan Indonesia beriklim...', options: ['Subtropis', 'Tropis', 'Dingin', 'Gurun'], answer: 'Tropis' },
        { subject: 'Geografi', question: 'Samudra terluas di dunia adalah...', options: ['Samudra Atlantik', 'Samudra Hindia', 'Samudra Arktik', 'Samudra Pasifik'], answer: 'Samudra Pasifik' },
        { subject: 'Geografi', question: 'Perputaran bumi pada porosnya disebut...', options: ['Revolusi', 'Rotasi', 'Evolusi', 'Orbit'], answer: 'Rotasi' },
        { subject: 'Geografi', question: 'Danau terbesar di Indonesia adalah...', options: ['Danau Toba', 'Danau Singkarak', 'Danau Poso', 'Danau Maninjau'], answer: 'Danau Toba' },
        { subject: 'Geografi', question: 'Indonesia memiliki tiga zona waktu, yaitu...', options: ['WIB, Waktu Tengah, Waktu Timur', 'GMT, UTC, WIB', 'WIB, WITA, WIT', 'Waktu Barat, WITA, Waktu Timur'], answer: 'WIB, WITA, WIT' },
        { subject: 'Geografi', question: 'Sungai terpanjang di Indonesia adalah...', options: ['Sungai Musi', 'Sungai Mahakam', 'Sungai Barito', 'Sungai Kapuas'], answer: 'Sungai Kapuas' },
        { subject: 'Geografi', question: 'Contoh sumber daya alam yang tidak dapat diperbaharui adalah...', options: ['Air', 'Hutan', 'Minyak bumi', 'Sinar matahari'], answer: 'Minyak bumi' },
        { subject: 'Geografi', question: 'Pulau di Indonesia yang terkenal dengan hewan Komodo adalah...', options: ['Pulau Bali', 'Pulau Flores', 'Pulau Komodo', 'Pulau Lombok'], answer: 'Pulau Komodo' },
        { subject: 'Geografi', question: 'Ibu kota Provinsi Jawa Timur adalah...', options: ['Surabaya', 'Malang', 'Semarang', 'Madiun'], answer: 'Surabaya' },
        { subject: 'Geografi', question: 'Lempeng tektonik yang sering menyebabkan gempa di Indonesia adalah pertemuan antara...', options: ['Lempeng Pasifik dan Amerika', 'Lempeng Eurasia, Indo-Australia, dan Pasifik', 'Lempeng Afrika dan Eurasia', 'Lempeng Nazca dan Amerika Selatan'], answer: 'Lempeng Eurasia, Indo-Australia, dan Pasifik' },
        { subject: 'Geografi', question: 'Garis bujur 0° melewati kota...', options: ['London, Inggris', 'Paris, Perancis', 'New York, Amerika Serikat', 'Greenwich, Inggris'], answer: 'Greenwich, Inggris' },
        { subject: 'Geografi', question: 'Negara dengan julukan "Negeri Tirai Bambu" adalah...', options: ['Jepang', 'Korea Selatan', 'Vietnam', 'Tiongkok'], answer: 'Tiongkok' },
        { subject: 'Geografi', question: 'Flora endemik yang terkenal dari Bengkulu adalah...', options: ['Bunga Bangkai (Rafflesia Arnoldii)', 'Bunga Anggrek Bulan', 'Pohon Jati', 'Pohon Cendana'], answer: 'Bunga Bangkai (Rafflesia Arnoldii)' },
        { subject: 'Geografi', question: 'Ilmu yang mempelajari tentang peta disebut...', options: ['Geologi', 'Kartografi', 'Demografi', 'Morfologi'], answer: 'Kartografi' },
        { subject: 'Geografi', question: 'Pegunungan yang menjadi tulang punggung Pulau Sumatra adalah...', options: ['Pegunungan Jayawijaya', 'Pegunungan Tengger', 'Pegunungan Bukit Barisan', 'Pegunungan Alpen'], answer: 'Pegunungan Bukit Barisan' },
        { subject: 'Geografi', question: 'Lembaga pemerintah yang bertugas memantau cuaca dan iklim di Indonesia adalah...', options: ['LIPI', 'BPPT', 'LAPAN', 'BMKG'], answer: 'BMKG' },
        { subject: 'Geografi', question: 'Benua yang dijuluki "Benua Hitam" adalah...', options: ['Asia', 'Eropa', 'Amerika', 'Afrika'], answer: 'Afrika' },
        { subject: 'Geografi', question: 'Laut yang memisahkan Pulau Kalimantan dengan Pulau Sulawesi adalah...', options: ['Laut Jawa', 'Selat Karimata', 'Selat Makassar', 'Laut Flores'], answer: 'Selat Makassar' },
        { subject: 'Geografi', question: 'Ibukota dari negara Malaysia adalah...', options: ['Singapura', 'Jakarta', 'Kuala Lumpur', 'Bandar Seri Begawan'], answer: 'Kuala Lumpur' },
    ];

    // --- LEADERBOARD DATA (CONTOH) ---
    const leaderboardData = [
        { name: 'Siti Aisyah', score: 285 },
        { name: 'Budi Santoso', score: 270 },
        { name: 'Eka Wijaya', score: 255 },
        { name: 'Putri Lestari', score: 240 },
        { name: 'Rian Hidayat', score: 221 },
        { name: 'Dewi Anggraini', score: 204 },
        { name: 'Agus Setiawan', score: 189 },
        { name: 'Indah Permata', score: 177 },
    ];


    // --- APPLICATION LOGIC ---
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    
    const startBtn = document.getElementById('start-btn');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const restartBtn = document.getElementById('restart-btn');
    const homeBtn = document.getElementById('home-btn');

    const studentNameInput = document.getElementById('student-name');
    const studentClassInput = document.getElementById('student-class');
    const nameError = document.getElementById('name-error');

    const progressBar = document.getElementById('progress-bar');
    const questionSubjectEl = document.getElementById('question-subject');
    const questionNumberEl = document.getElementById('question-number');
    const questionTextEl = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const questionContent = document.querySelector('.question-transition');
    const timerEl = document.getElementById('timer');

    const finalScoreEl = document.getElementById('final-score');
    const correctAnswersEl = document.getElementById('correct-answers');
    const wrongAnswersEl = document.getElementById('wrong-answers');
    const unansweredEl = document.getElementById('unanswered');
    const leaderboardBody = document.getElementById('leaderboard-body');

    let currentQuestionIndex = 0;
    let userAnswers = new Array(questions.length).fill(null);
    let timerInterval;
    let timeLeft = 60 * 60; // 60 minutes in seconds
    let playerName = '';

    startBtn.addEventListener('click', startQuiz);
    prevBtn.addEventListener('click', showPreviousQuestion);
    nextBtn.addEventListener('click', handleNextButton);
    restartBtn.addEventListener('click', restartQuiz);
    homeBtn.addEventListener('click', restartQuiz);

    function startQuiz() {
        playerName = studentNameInput.value.trim();
        if (playerName === '') {
            nameError.classList.remove('hidden');
            studentNameInput.focus();
            return;
        }
        nameError.classList.add('hidden');

        startScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        quizScreen.classList.add('animate-fade-in');
        
        currentQuestionIndex = 0;
        userAnswers.fill(null);
        timeLeft = 60 * 60;
        timerEl.classList.remove('timer-warning');
        displayQuestion();
        startTimer();
    }
    
    function displayQuestion() {
        const question = questions[currentQuestionIndex];
        
        questionContent.classList.add('question-exit');
        
        setTimeout(() => {
            progressBar.style.width = `${((currentQuestionIndex + 1) / questions.length) * 100}%`;
            questionSubjectEl.textContent = question.subject;
            questionNumberEl.textContent = currentQuestionIndex + 1;
            questionTextEl.textContent = question.question;

            optionsContainer.innerHTML = '';
            const optionLetters = ['A', 'B', 'C', 'D'];
            question.options.forEach((option, index) => {
                const isChecked = userAnswers[currentQuestionIndex] === option;
                const optionId = `option${index}`;
                optionsContainer.innerHTML += `
                    <div class="relative">
                        <input type="radio" name="option" value="${option}" id="${optionId}" class="absolute opacity-0" ${isChecked ? 'checked' : ''}>
                        <label for="${optionId}" class="option-card flex items-center w-full p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50/50">
                            <span class="option-letter flex items-center justify-center w-8 h-8 font-bold text-gray-600 border-2 border-gray-300 rounded-full mr-4">${optionLetters[index]}</span>
                            <span class="text-gray-700 flex-1 font-medium">${option}</span>
                            <svg class="w-6 h-6 text-white bg-indigo-500 rounded-full p-1 ml-auto checkmark" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                        </label>
                    </div>
                `;
            });
            
            document.querySelectorAll('input[name="option"]').forEach(radio => {
                radio.addEventListener('change', () => {
                    userAnswers[currentQuestionIndex] = radio.value;
                    // Langsung lanjut ke soal berikutnya setelah jawaban dipilih dengan jeda singkat
                    setTimeout(() => {
                        handleNextButton();
                    }, 400); // Jeda 400ms agar pengguna bisa melihat pilihannya
                });
            });

            updateNavigationButtons();
            
            questionContent.classList.remove('question-exit');
        }, 300);
    }

    function updateNavigationButtons() {
        prevBtn.disabled = currentQuestionIndex === 0;
        
        if (currentQuestionIndex === questions.length - 1) {
            nextBtn.textContent = 'Selesai';
            nextBtn.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
            nextBtn.classList.add('bg-green-600', 'hover:bg-green-700');
        } else {
            nextBtn.textContent = 'Lanjut';
            nextBtn.classList.remove('bg-green-600', 'hover:bg-green-700');
            nextBtn.classList.add('bg-indigo-600', 'hover:bg-indigo-700');
        }
    }

    function showPreviousQuestion() {
        if (currentQuestionIndex > 0) {
            currentQuestionIndex--;
            displayQuestion();
        }
    }

    function handleNextButton() {
        if (currentQuestionIndex < questions.length - 1) {
            currentQuestionIndex++;
            displayQuestion();
        } else {
            finishQuiz();
        }
    }

    function startTimer() {
        timerInterval = setInterval(() => {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerEl.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            
            if (timeLeft > 0 && timeLeft <= 300) { // 5 minutes warning
                timerEl.classList.add('timer-warning');
            }

            if (timeLeft <= 0) {
                finishQuiz();
            }
        }, 1000);
    }
    
    function finishQuiz() {
        clearInterval(timerInterval);
        quizScreen.classList.add('hidden');
        resultScreen.classList.remove('hidden');
        resultScreen.classList.add('animate-fade-in');
        calculateResults();
    }
    
    function animateValue(obj, start, end, duration) {
        let startTimestamp = null;
        const step = (timestamp) => {
            if (!startTimestamp) startTimestamp = timestamp;
            const progress = Math.min((timestamp - startTimestamp) / duration, 1);
            obj.innerHTML = Math.floor(progress * (end - start) + start);
            if (progress < 1) {
                window.requestAnimationFrame(step);
            }
        };
        window.requestAnimationFrame(step);
    }

    function calculateResults() {
        let score = 0;
        let correct = 0;
        let wrong = 0;
        let unanswered = 0;

        questions.forEach((question, index) => {
            if (userAnswers[index] === null) {
                unanswered++;
            } else if (userAnswers[index] === question.answer) {
                score += 3;
                correct++;
            } else {
                score -= 1;
                wrong++;
            }
        });
        
        animateValue(finalScoreEl, 0, score, 1500);
        animateValue(correctAnswersEl, 0, correct, 1000);
        animateValue(wrongAnswersEl, 0, wrong, 1000);
        animateValue(unansweredEl, 0, unanswered, 1000);
        
        updateAndDisplayLeaderboard(score);
    }

    function updateAndDisplayLeaderboard(playerScore) {
        let currentLeaderboard = [...leaderboardData];
        const currentPlayer = { name: playerName, score: playerScore, isCurrent: true };
        currentLeaderboard.push(currentPlayer);
        currentLeaderboard.sort((a, b) => b.score - a.score);

        leaderboardBody.innerHTML = '';

        currentLeaderboard.forEach((player, index) => {
            const isCurrentUser = player.isCurrent;
            const rank = index + 1;
            const rowClass = isCurrentUser ? 'bg-indigo-100 font-bold text-indigo-800' : 'hover:bg-gray-50/50';

            const row = `
                <tr class="${rowClass} transition-colors duration-200">
                    <td class="p-3 text-center rounded-l-lg">${rank}</td>
                    <td class="p-3">${player.name}${isCurrentUser ? ' (Anda)' : ''}</td>
                    <td class="p-3 text-center font-semibold rounded-r-lg">${player.score}</td>
                </tr>
            `;
            leaderboardBody.innerHTML += row;
        });
    }
    
    function restartQuiz() {
        resultScreen.classList.add('hidden');
        startScreen.classList.remove('hidden');
        startScreen.classList.add('animate-fade-in');
        leaderboardBody.innerHTML = ''; 
        studentNameInput.value = '';
        studentClassInput.value = '';
    }

    </script>

</body>
</html>